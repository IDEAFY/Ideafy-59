/**
 * https://github.com/IDEAFY/Ideafy
 * Proprietary License - All rights reserved
 * Author: Vincent Weyl <vincent@ideafy.com>
 * Copyright (c) 2014 IDEAFY LLC
 */

define(["OObject","service/map","Bind.plugin","Event.plugin","service/config","Store"],function(e,t,i,n,s,a){return new function(){var t,o,r=s.get("labels"),l=new e,c=new a({question:""});return l.plugins.addAll({label:new i(r),confirm:new i(c),confirmevent:new n(l)}),l.template='<div  id="confirm-popup" class = "confirm invisible"><div class="help-doctor"></div><p class="confirm-question" data-confirm="bind:innerHTML,question"></p><div class="option left" data-confirmevent="listen:mousedown, press; listen:mouseup, ok" data-label="bind: innerHTML, continuelbl">Continue</div><div class="option right" data-confirmevent="listen:mousedown, press; listen:mouseup, cancel" data-label="bind:innerHTML, cancellbl">Cancel</div></div>',l.press=function(e,t){t.classList.add("pressed"),e.stopPropagation()},l.ok=function(e,i){i.classList.remove("pressed"),document.getElementById("cache").classList.remove("appear"),t&&t(!0)},l.cancel=function(e,i){i&&i.classList.remove("pressed"),document.getElementById("cache").classList.remove("appear"),t&&t(!1)},l.hide=function(){document.getElementById("cache").classList.remove("appear"),l.dom.classList.add("invisible")},l.show=function(e){e&&!l.dom.classList.contains(e)&&(o&&l.dom.classList.remove(o),o=e,l.dom.classList.add(e)),document.getElementById("cache").classList.add("appear"),l.dom.classList.remove("invisible"),setTimeout(function(){l.close},15e3)},l.reset=function(e,i,n){o&&l.dom.classList.remove(o),c.set("question",e),t=i,o=n,o&&l.dom.classList.add(o)},l}});